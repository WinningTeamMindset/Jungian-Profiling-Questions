<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elite Performance Assessment - KVC Westerlo</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        :root { --primary: #1a2a6c; --secondary: #b21f1f; --accent: #fdbb2d; --bg: #f4f7f6; --text: #333; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: var(--text); padding: 20px; }
        .container { max-width: 900px; margin: 0 auto; background: white; padding: 40px; border-radius: 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        h1, h2 { color: var(--primary); text-align: center; text-transform: uppercase; }
        .section-header { background: var(--primary); color: white; padding: 15px; margin-top: 30px; border-radius: 4px; font-weight: bold; }
        .question { margin-bottom: 25px; padding-bottom: 15px; border-bottom: 1px solid #eee; }
        .question p { font-weight: 600; margin-bottom: 10px; }
        .options { display: flex; flex-direction: column; gap: 10px; }
        label { background: #f9f9f9; padding: 12px; border: 1px solid #ddd; border-radius: 6px; cursor: pointer; transition: 0.3s; }
        label:hover { background: #eef2ff; border-color: var(--primary); }
        input[type="radio"] { margin-right: 10px; }
        #coach-section { display: none; margin-top: 50px; border: 4px dashed var(--secondary); padding: 30px; border-radius: 10px; background: #fff8f8; }
        .coach-only-tag { color: var(--secondary); font-weight: bold; text-align: center; font-size: 1.2rem; }
        .btn-container { display: flex; justify-content: center; gap: 20px; margin-top: 40px; }
        button { padding: 15px 30px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; }
        .btn-calc { background: var(--primary); color: white; }
        .btn-print { background: var(--secondary); color: white; }
        .btn-coach { background: #444; color: white; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
        th { background-color: var(--primary); color: white; }
        textarea { width: 100%; height: 100px; padding: 10px; border-radius: 5px; border: 1px solid #ddd; margin-top: 10px; }
        .pdf-page { page-break-before: always; padding: 20px; }
    </style>
</head>
<body>

<div class="container" id="assessment-content">
    <h1>Elite Performance Assessment</h1>
    <p style="text-align: center;">KVC Westerlo Recruitment - Seizoen 2025/2026</p>

    <div class="section-header">Spelerinformatie</div>
    <div class="question">
        <p>Volledige Naam:</p>
        <input type="text" id="playerName" style="width: 95%; padding: 10px;">
        <p>Positie:</p>
        <input type="text" id="playerPosition" style="width: 95%; padding: 10px;">
    </div>

    <div id="questions-container"></div>

    <div class="btn-container">
        <button class="btn-coach" onclick="unlockCoach()">Coach Toegang</button>
    </div>

    <div id="coach-section">
        <div class="coach-only-tag">VERTROUWELIJK: ALLEEN VOOR COACH</div>
        <h2>Resultaten & Analyse</h2>
        <div id="result-display"></div>
        
        <div class="pdf-page">
            <h2>Gecalcunleerd Profiel Matrix</h2>
            <table id="scoringTable">
                <thead><tr><th>Segment</th><th>Score Verdeling</th></tr></thead>
                <tbody id="scoringBody"></tbody>
            </table>
        </div>

        <div class="pdf-page">
            <h2>Doubt-Trap Interview Scenarios</h2>
            <div class="question">
                <p>1. De Fysieke Uitputting: Hoe is hun vocale energie na zware inspanning?</p>
                <textarea placeholder="Notities over Outcome Frame helderheid..."></textarea>
            </div>
            <div class="question">
                <p>2. Onterechte Kritiek: Reactie op verkeerd beoordeelde eerdere prestaties?</p>
                <textarea placeholder="Notities over defensieve vs logische reactie..."></textarea>
            </div>
            <div class="question">
                <p>3. Onvolledige Kaart: Reactiesnelheid en natuurlijke leiderschapsstijl?</p>
                <textarea placeholder="Natuurlijke leiderschap? Focus op VK?"></textarea>
            </div>
            <h3>Algemene Opmerkingen Coach:</h3>
            <textarea id="coachComments"></textarea>
        </div>
    </div>

    <div class="btn-container">
        <button class="btn-calc" onclick="calculateProfile()">Genereer Profiel</button>
        <button class="btn-print" onclick="printPDF()">Download PDF Rapport</button>
    </div>
</div>

<script>
    const surveyData = [
        // Mindset
        ["TF", "Wanneer ik een grote tegenslag ervaar, is mijn interne dialoog meestal:", "Waarom overkomt mij dit altijd?", "Ik moet dit bespreken met iemand die ik vertrouw.", "Wat is de les hier? Hoe pas ik mijn proces aan?", "Ik wil dit gewoon zo snel mogelijk vergeten."],
        ["SN", "Welke zin beschrijft het beste jouw relatie met falen?", "Een muur die mijn momentum stopt.", "Een pijnlijke ervaring die ik tot elke prijs vermijd.", "Een noodzakelijke stap om het volgende niveau te bereiken.", "Een tijdelijke klap voor mijn zelfvertrouwen."],
        ["TF", "Als je uit de basiself zou worden gehaald, zou je:", "Stil worden en me alleen op mezelf focussen.", "Een diepe twijfel voelen over mijn kwaliteiten.", "Mijn trainingsintensiteit verhogen en om een verbeterplan vragen.", "Wachten tot de coach uitlegt waarom hij die keuze maakte."],
        // Communication
        ["EI", "In een stille kleedkamer na een verlies is de beste actie:", "Stil blijven en ieders ruimte respecteren.", "Spreken met een positieve, resultaatgerichte boodschap.", "De statistieken op mijn telefoon analyseren.", "Wachten tot de kapitein de toon zet."],
        ["EI", "Tijdens communicatie op het veld geef ik de voorkeur aan:", "Het goede voorbeeld geven zonder woorden.", "Korte, luide, positieve commando's die direct sturen.", "Alleen praten met de 2-3 spelers direct om me heen.", "Mensen corrigeren op wat ze fout doen."],
        // VK System
        ["SN", "Wanneer ik een nieuwe tactiek leer, moet ik:", "Luisteren naar de uitgebreide uitleg van de coach.", "Het zien op een bord en dan fysiek de zones doorlopen.", "De tactische aantekeningen later zelf lezen.", "De emotionele reden voelen waarom we dit doen."],
        ["SN", "Als ik een technische fout moet herstellen, bekijk ik het liefst:", "Video-opnames van de fout en dan de 'feel' trainen.", "Een 1-op-1 gesprek met de techniektrainer.", "Gewoon doorspelen en hopen dat het vanzelf oplost.", "De data bestuderen om te zien hoe vaak het gebeurt."]
        // ... (Verkort voor overzicht, voeg hier de rest van de 50 vragen toe op dezelfde manier)
    ];

    function render() {
        const container = document.getElementById('questions-container');
        surveyData.forEach((q, i) => {
            container.innerHTML += `
                <div class="question">
                    <p>${i+1}. ${q[1]}</p>
                    <div class="options">
                        <label><input type="radio" name="q${i}" value="a"> ${q[2]}</label>
                        <label><input type="radio" name="q${i}" value="b"> ${q[3]}</label>
                        <label><input type="radio" name="q${i}" value="c"> ${q[4]}</label>
                        <label><input type="radio" name="q${i}" value="d"> ${q[5]}</label>
                    </div>
                </div>`;
        });
    }

    function unlockCoach() {
        if(prompt("Wachtwoord:") === "kvc2025") document.getElementById('coach-section').style.display = 'block';
    }

    function calculateProfile() {
        let scores = { E:0, I:0, S:0, N:0, T:0, F:0, J:0, P:0 };
        surveyData.forEach((q, i) => {
            const sel = document.querySelector(`input[name="q${i}"]:checked`);
            if(!sel) return;
            const type = q[0]; // Bijv. "TF"
            if(sel.value === 'c') { // We mappen de 'c' antwoorden naar de gewenste elite traits
                if(type.includes("E")) scores.E++;
                if(type.includes("N")) scores.N++;
                if(type.includes("T")) scores.T++;
                if(type.includes("J")) scores.J++;
            } else if(sel.value === 'a') {
                if(type.includes("I")) scores.I++;
                if(type.includes("S")) scores.S++;
                if(type.includes("F")) scores.F++;
                if(type.includes("P")) scores.P++;
            }
        });

        const profile = [
            scores.E >= scores.I ? "E" : "I",
            scores.S >= scores.N ? "S" : "N",
            scores.T >= scores.F ? "T" : "F",
            scores.J >= scores.P ? "J" : "P"
        ].join('');

        const names = { "ESTP": "The Dynamo (Aanvaller/Back)", "ENTJ": "The Commander (Verdedigende Midveld)", "ESFP": "The Performer (Offensieve Midveld)", "ENFJ": "The Protagonist (Leider)" };
        
        document.getElementById('result-display').innerHTML = `<h3>Berekend Profiel: ${profile}</h3><p><strong>Match:</strong> ${names[profile] || "Gemengd Profiel"}</p>`;
        document.getElementById('scoringBody').innerHTML = `
            <tr><td>Energie</td><td>Extravert (${scores.E}) vs Introvert (${scores.I})</td></tr>
            <tr><td>Informatie</td><td>Sensing (${scores.S}) vs Intu√Øtief (${scores.N})</td></tr>
            <tr><td>Besluitvorming</td><td>Thinker (${scores.T}) vs Feeler (${scores.F})</td></tr>
        `;
    }

    function printPDF() {
        const element = document.getElementById('assessment-content');
        html2pdf().from(element).set({ margin: 10, filename: 'KVC_Rapport.pdf', jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' } }).save();
    }
    render();
</script>
</body>
</html>
